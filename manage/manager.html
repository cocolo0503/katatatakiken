<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>回数設定</title>
</head>
<body>
  <h1>肩叩き券設定</h1>
  <p>残り <span id="count">0</span> 回</p>
  <button onclick="useTicket()">1回使う</button>
  <button onclick="reset()">リセット</button>

  <script>
    // 初期値の読み込み
    let count = Number(localStorage.getItem("count")) || 3;
    document.getElementById("count").textContent = count;

    function useTicket() {
      if (count > 0) count--;
      localStorage.setItem("count", count);
      document.getElementById("count").textContent = count;
    }

    function reset() {
      count = 3;
      localStorage.setItem("count", count);
      document.getElementById("count").textContent = count;
    }
  </script>
</body>
</html>
